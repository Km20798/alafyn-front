<app-store-nav></app-store-nav>
<div class="container">
  <div class="form">
    <div class="wating" *ngIf="load">
      <div class="loading"></div>
    </div>
    <form #carForm="ngForm" *ngIf="!load">
      <h2>{{car.id}}</h2>
      <div class="left">
        <div class="addImage" *ngIf="!reterviedImage">
          <label for="upload"><i class="fa fa-camera"></i></label>
          <input id="upload" type="file" (change)="onFileChanged($event)">
        </div>
        <div class="image" *ngIf="reterviedImage">
          <img [src]="reterviedImage" alt="">
          <button class="remove" *ngIf="reterviedImage" (click)="showImage()"><i class="fa fa-edit"></i></button>
        </div>
      </div>
      <div class="right">
        <div class="form-group">
          <label for="type">Type</label>
          <select name="type" [(ngModel)]="car.type" id="type" class="form-control" #carType="ngModel" 
          [ngClass]="{'is-invalid': carType.errors && carType.touched}" required>
            <option value="" disabled>Select Car type</option>
            <option value="MiniVan">MiniVan</option>
            <option value="Pickup">Pickup</option>
            <option value="Jumbo">Jumbo</option>
            <option value="Jumbo Closed Body">Jumbo Closed Body</option>
            <option value="Flatbed Trailer">Flatbed Trailer</option>
          </select>
          <div class="invalid-feedback" [hidden]="!carType.errors?.required">
            <p>Car Type is required</p>
          </div>
        </div>
        <div class="form-group">
          <label for="driver">Driver</label>
          <input type="text" name="driver" [(ngModel)]="car.driver" id="driver" class="form-control" #carDriver="ngModel"
          [ngClass]="{'is-invalid': carDriver.errors && carDriver.touched}" required minlength="3">
          <div class="invalid-feedback" [hidden]="!carDriver.errors?.required">
            <p>Driver name is required</p>
          </div>
          <div class="invalid-feedback" [hidden]="!carDriver.errors?.minlength">
            <p>Driver name minLength must be more than 3 char</p>
          </div>
        </div>
        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="text" name="phone" [(ngModel)]="car.phone" id="phone" class="form-control" #carPhone="ngModel"
          [ngClass]="{'is-invalid': carPhone.errors && carPhone.touched}" required minlength="11" maxlength="11">
          <div class="invalid-feedback" [hidden]="!carPhone.errors?.required">
            <p>Phone number is required</p>
          </div>
          <div class="invalid-feedback" [hidden]="!carPhone.errors?.minlength">
            <p>Phone number minLength must be more than 11 char</p>
          </div>
        </div>
        <div class="form-group">
          <button class="enter btn btn-success" (click)="addCar()">Add car</button>
        </div>
      </div>
    </form>
  </div>
</div>